<%-include('../../views/partials/admin/header') %>

<div class="content">
    <h3>Customers</h3>
    
    <!-- Search Bar Form -->
    <form method="GET" action="/admin/users">
      <div class="form-group d-flex">
        <input 
          type="text" 
          name="search" 
          class="form-control" 
          placeholder="Search for customers..." 
          value=""
        >
        <button type="submit" class="btn btn-primary ml-2">Search</button>
      </div>
    </form>
    
    <!-- Customers Table -->
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Phone No</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <%for(let i = 0 ; i < data.length ; i++){ %>
        <tr>
          <td><%= data[i].name %></td>
          <td><%= data[i].email %></td>
          <td><%= data[i].phone %></td>
          <td>
            <% if(data[i].isBlocked===false){ %>
            <button class="btn btn-success btn-sm"><a href="/admin/blockCustomer?id=<%= data[i]._id %>" class="text-white" style="text-decoration: none;">Block</a></button>
            <% }else{ %>
            <button class="btn btn-danger btn-sm"><a href="/admin/unblockCustomer?id=<%= data[i]._id %>" class="text-white" style="text-decoration: none;">UnBlock</a></button>
            <% } %>
          </td>
        </tr>
        <% } %>
      </tbody>
    </table>
  
    <%-include('../../views/partials/admin/pagination') %>
  
</div>
  
  <%-include('../../views/partials/admin/footer') %>